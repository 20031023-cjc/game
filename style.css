let score = 0;
const scoreDisplay = document.getElementById('score');
const gameArea = document.getElementById('gameArea');

let spawnInterval = 1500; // 初始星星生成间隔（毫秒）

function spawnStar() {
  const star = document.createElement('div');
  star.classList.add('star');

  const size = Math.random() * 20 + 30; // 30px~50px
  star.style.width = `${size}px`;
  star.style.height = `${size}px`;

  star.style.left = `${Math.random() * (window.innerWidth - 50)}px`;
  star.style.animationDuration = `${Math.random() * 3 + 2}s`; // 2s~5s

  // 点击星星
  star.addEventListener('click', () => {
    score++;
    scoreDisplay.textContent = score;
    star.remove();

    // 提高游戏难度
    if (score % 10 === 0 && spawnInterval > 300) {
      spawnInterval -= 100;
      clearInterval(spawnTimer);
      spawnTimer = setInterval(spawnStar, spawnInterval);
    }
  });

  gameArea.appendChild(star);

  // 自动移除落到底部的星星
  setTimeout(() => {
    if (gameArea.contains(star)) {
      star.remove();
    }
  }, 6000);
}

// 开始生成星星
let spawnTimer = setInterval(spawnStar, spawnInterval);
